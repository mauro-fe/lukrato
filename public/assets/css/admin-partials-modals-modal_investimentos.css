/* === Base compartilhada (já enviada antes) === */
.modal { --bs-modal-zindex: 12000; z-index: var(--bs-modal-zindex); }
.modal-dialog { z-index: inherit; }
.modal-backdrop { --bs-backdrop-zindex: 11990; z-index: var(--bs-backdrop-zindex); background: rgba(9,18,32,1); }
.modal-backdrop.show { opacity: .55; }

:is(#modalLancamento, #modal-investimentos) .modal-content{
  background: var(--color-surface) !important;
  color: var(--color-text);
  border-radius: var(--radius-lg);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-lg);
  font-family: var(--font-primary);
}
:is(#modalLancamento, #modal-investimentos) .modal-header,
:is(#modalLancamento, #modal-investimentos) .modal-footer{
  border: 0; background: transparent; color: var(--color-text);
}
:is(#modalLancamento, #modal-investimentos) .modal-title{
  font-size: var(--font-size-lg); font-weight: 600; color: var(--color-primary);
}

/* Botões */
:is(#modalLancamento, #modal-investimentos) .btn{
  border-radius: var(--radius-sm);
  font-size: var(--font-size-sm);
  transition: var(--transition-fast);
}
:is(#modalLancamento, #modal-investimentos) .btn-outline-light,
:is(#modalLancamento, #modal-investimentos) .btn-secondary,
:is(#modalLancamento, #modal-investimentos) .btn-outline-secondary{
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  color: var(--color-text);
}
:is(#modalLancamento, #modal-investimentos) .btn-outline-light:hover,
:is(#modalLancamento, #modal-investimentos) .btn-secondary:hover,
:is(#modalLancamento, #modal-investimentos) .btn-outline-secondary:hover{
  background: color-mix(in srgb, var(--glass-bg) 80%, var(--color-primary) 20%);
  color: #fff !important;
  border-color: var(--color-primary);
}
:is(#modalLancamento, #modal-investimentos) .btn-primary{
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: #fff;
}
:is(#modalLancamento, #modal-investimentos) .btn-primary:hover{
  filter: brightness(1.1);
}

/* Campos */
:is(#modalLancamento, #modal-investimentos) .form-label{
  color: var(--color-text);
  font-size: var(--font-size-sm);
  margin-bottom: .25rem;
}
:is(#modalLancamento, #modal-investimentos) .form-control,
:is(#modalLancamento, #modal-investimentos) .form-select,
:is(#modalLancamento, #modal-investimentos) input[type="date"],
:is(#modalLancamento, #modal-investimentos) input[type="number"],
:is(#modalLancamento, #modal-investimentos) input[type="text"],
:is(#modalLancamento, #modal-investimentos) textarea{
  background: var(--color-surface-muted);
  color: var(--color-text);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-sm);
  padding: var(--spacing-3);
}
:is(#modalLancamento, #modal-investimentos) .form-control::placeholder{
  color: color-mix(in srgb, var(--color-text) 60%, transparent);
}
:is(#modalLancamento, #modal-investimentos) .form-control:focus,
:is(#modalLancamento, #modal-investimentos) .form-select:focus{
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px var(--ring);
  color: var(--color-text) !important;
}

/* Detalhes específicos do modal de investimentos */
#modal-investimentos .input-group-text{
  background: var(--color-surface-muted);
  color: var(--color-text);
  border: 1px solid var(--glass-border);
  border-right: 0;
}
#modal-investimentos .form-text{
  color: var(--color-text-muted);
}

/* Botão fechar */
:is(#modalLancamento, #modal-investimentos) .btn-close{
  filter: invert(90%); /* deixa o X visível no tema escuro */
  opacity: .7;
}
:is(#modalLancamento, #modal-investimentos) .btn-close:hover{ opacity: 1; }

/* Dialog e body (conforto visual) */
#modal-investimentos .modal-dialog{ max-width: 820px; }
#modal-investimentos .modal-body{ padding-top: var(--spacing-4); }
